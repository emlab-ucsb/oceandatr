<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Prepares ocean related datasets ready for use in spatial prioritization, i.e. data in gridded format.">
<title>Ocean Data Access • oceandatr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Ocean Data Access">
<meta property="og:description" content="Prepares ocean related datasets ready for use in spatial prioritization, i.e. data in gridded format.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">oceandatr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/getarea_vignette.html">Selecting areas with oceandatr</a>
    <a class="dropdown-item" href="articles/pacific_high_seas_example.html">Pacific High Seas Example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="oceandatr">oceandatr<a class="anchor" aria-label="anchor" href="#oceandatr"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p><code>oceandatr</code> aims to provide simple functions for creating data for conducting a spatial conservation prioritization for large scale areas of the ocean, specifically offshore areas.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install oceandatr from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="co">#might need to increase timeout as it is a large package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">9999</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"emlab-ucsb/oceandatr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-of-usage">Example of usage<a class="anchor" aria-label="anchor" href="#example-of-usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#load oceandatr package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://emlab-ucsb.github.io/oceandatr/">oceandatr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="obtain-an-eez-for-an-area-of-interest">Obtain an EEZ for an area of interest<a class="anchor" aria-label="anchor" href="#obtain-an-eez-for-an-area-of-interest"></a>
</h3>
<p>This function pulls data for EEZs from the <a href="https://marineregions.org/gazetteer.php" class="external-link">Marine Gazetteer</a> using the <code>mregions2</code> R package; the function is just a wrapper to make the process a bit simpler.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bermuda_eez</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_area.html">get_area</a></span><span class="op">(</span>area_name <span class="op">=</span> <span class="st">"Bermuda"</span>, mregions_column <span class="op">=</span> <span class="st">"territory1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#plot to check we have Bermuda's EEZ</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, col <span class="op">=</span> <span class="st">"lightblue"</span>, main<span class="op">=</span><span class="cn">NULL</span>, axes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-area%20of%20interest-1.png" width="600"></p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="choose-a-crs">Choose a CRS<a class="anchor" aria-label="anchor" href="#choose-a-crs"></a>
</h1>
<p>Best practice is to use a local, equal area projection for all geospatial data for use in the prioritization. Finding a suitable projection can be tricky, but <a href="https://projectionwizard.org" class="external-link">projection wizard</a> provides a handy tool. Standard projections used for countries can also be found at <a href="https://epsg.io/" class="external-link uri">https://epsg.io/</a> by searching with country name.</p>
<p>The bounding box coordinates for the area of interest can be used to generate the coordinate reference system (CRS) on <a href="https://projectionwizard.org" class="external-link">projection wizard</a></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">bermuda_eez</span><span class="op">)</span></span>
<span><span class="co">#&gt;      xmin      ymin      xmax      ymax </span></span>
<span><span class="co">#&gt; -68.91706  28.90577 -60.70480  35.80855</span></span></code></pre></div>
<p>The coordinates above should be entered as the ‘Geographic extent’ and the map should then have a box drawn around the bounding box of the area of interest. The projection can then be copied and pasted from the pop-up box when clicking on ‘WKT’ or ‘PROJ’. For brevity, we are using the PROJ string, but WKT is now <a href="https://inbo.github.io/tutorials/tutorials/spatial_crs_coding/" class="external-link">generally preferred</a>. The projection needs to be placed in quotation marks as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">projection_bermuda</span> <span class="op">&lt;-</span> <span class="st">'+proj=laea +lon_0=-64.8108333 +lat_0=32.3571917 +datum=WGS84 +units=m +no_defs'</span></span></code></pre></div>
<div class="section level3">
<h3 id="get-a-planning-grid-for-the-area-of-interest">Get a planning grid for the area of interest<a class="anchor" aria-label="anchor" href="#get-a-planning-grid-for-the-area-of-interest"></a>
</h3>
<p>A planning grid is needed for spatial prioritization. This divides the area of interest into grid cells. The <code>get_grid</code> function will return a planning grid for the specified area of interest (polygon), projected into the coordinate reference system specified, at the cell resolution specified in kilometres.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">planning_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://emlab-ucsb.github.io/spatialgridr/reference/get_grid.html" class="external-link">get_grid</a></span><span class="op">(</span>area_polygon <span class="op">=</span> <span class="va">bermuda_eez</span>, projection_crs <span class="op">=</span> <span class="va">projection_bermuda</span>, resolution <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#project the eez into same projection as planning grid for plotting</span></span>
<span><span class="va">bermuda_eez_projected</span> <span class="op">&lt;-</span> <span class="va">bermuda_eez</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="va">projection_bermuda</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#plot the planning grid</span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">planning_grid</span>, col <span class="op">=</span> <span class="st">"gold3"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-planning%20grid-1.png" width="600"></p>
<p>The raster covers Bermuda’s EEZ. The grid cells would be too small to see if we plotted them, but here is a coarser grid (lower resolution) visualized so we can see what the grid cells look like.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">planning_grid_coarse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://emlab-ucsb.github.io/spatialgridr/reference/get_grid.html" class="external-link">get_grid</a></span><span class="op">(</span>area_polygon <span class="op">=</span> <span class="va">bermuda_eez</span>, projection_crs <span class="op">=</span> <span class="va">projection_bermuda</span>, resolution <span class="op">=</span> <span class="fl">20000</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/as.polygons.html" class="external-link">as.polygons</a></span><span class="op">(</span><span class="va">planning_grid_coarse</span>, dissolve <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-planning%20grid%20cells-1.png" width="600"></p>
</div>
<div class="section level3">
<h3 id="get-bathymetry">Get bathymetry<a class="anchor" aria-label="anchor" href="#get-bathymetry"></a>
</h3>
<p>Now we have our planning grid, we can get data for this area of interest. A key piece of data is bathymetry. If the user has downloaded data for the area of interest from the <a href="https://www.gebco.net" class="external-link">GEBCO website</a>, they can pass the file path to this function and it will crop and rasterize the data using the supplied planning grid. If no file path is provided, the function will extract bathymetry data for the area from the <a href="https://www.ncei.noaa.gov/products/etopo-global-relief-model" class="external-link">ETOPO 2022 Global Relief model</a> using a function borrowed from the <code>marmap</code> package.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bathymetry</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_bathymetry.html">get_bathymetry</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span>, classify_bathymetry <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; This may take seconds to minutes, depending on grid size</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bathymetry</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">255</span>, <span class="st">"Blues"</span><span class="op">)</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-bathymetry-1.png" width="600"></p>
</div>
<div class="section level3">
<h3 id="depth-classification">Depth classification<a class="anchor" aria-label="anchor" href="#depth-classification"></a>
</h3>
<p>The ocean can be classified into 5 depth zones:</p>
<ul>
<li>0 - 200m: Epipelagic zone</li>
<li>200 - 1000m: Mesopelagic zone</li>
<li>1000 - 4000m: Bathypelagic zone</li>
<li>4000 - 6000m: Abyssopelagic zone</li>
<li>6000m+: Hadopelagic zone</li>
</ul>
<p>We can get the depth zones for Bermuda simply by setting the <code>classify_bathymetry</code> argument in <code>get_bathymetry</code> to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">depth_zones</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_bathymetry.html">get_bathymetry</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span>, classify_bathymetry <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; This may take seconds to minutes, depending on grid size</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">depth_zones</span>, col <span class="op">=</span> <span class="st">"navyblue"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-depth%20classification-1.png" width="600"></p>
</div>
<div class="section level3">
<h3 id="get-geomorphological-data">Get geomorphological data<a class="anchor" aria-label="anchor" href="#get-geomorphological-data"></a>
</h3>
<p>The seafloor has its own mountains, plains and other geomorphological features just as on land. These data come from <a href="https://doi.org/10.1016/j.margeo.2014.01.011" class="external-link">Harris et al. 2014, Geomorphology of the Oceans</a> and are available for download from <a href="https://www.bluehabitats.org" class="external-link uri">https://www.bluehabitats.org</a>. The features that are suggested as major habitats for inclusion in no-take MPAs by <a href="https://doi.org/10.3389/fmars.2021.634574" class="external-link">Ceccarelli et al. 2021</a> are included in this package, so it is not necessary to download them.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geomorphology</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_geomorphology.html">get_geomorphology</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">geomorphology</span>, col <span class="op">=</span> <span class="st">"sienna2"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-geomorphology-1.png" width="600"></p>
</div>
<div class="section level2">
<h2 id="get-knolls-data">Get knolls data<a class="anchor" aria-label="anchor" href="#get-knolls-data"></a>
</h2>
<p>Knolls are another geomorphological feature, which are ‘small’ seamounts, classified as seamounts between 200 and 1000m higher than the surrounding seafloor <a href="https://doi.org/10.3354/meps07268" class="external-link">Morato et al. 2008</a>. Data are the knoll base area data from <a href="https://doi.org/10.1016/j.dsr.2011.02.004" class="external-link">Yesson et al. 2011</a>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">knolls</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_knolls.html">get_knolls</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">knolls</span>, col <span class="op">=</span> <span class="st">"grey40"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-knolls-1.png" width="600"></p>
</div>
<div class="section level2">
<h2 id="get-seamount-areas">Get seamount areas<a class="anchor" aria-label="anchor" href="#get-seamount-areas"></a>
</h2>
<p>Seamounts, classified as peaks at least 1000m higher than the surrounding seafloor <a href="https://doi.org/10.3354/meps07268" class="external-link">Morato et al. 2008</a>. These data are from <a href="https://doi.org/10.14324/111.444/ucloe.000030" class="external-link">Yesson et al. 2021</a>. Each peak is buffered to the distance specified in the function call. The units of the buffer are in the same units as the area polygon or planning grid, which can be checked using, e.g. <code>sf::st_crs(planning_grid, parameters = TRUE)$units_gdal</code></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#planning grid units are metres, so set buffer to 30000 m = 30 km</span></span>
<span><span class="va">seamounts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_seamounts_buffered.html">get_seamounts_buffered</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span>, buffer <span class="op">=</span> <span class="fl">30000</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">seamounts</span>, col <span class="op">=</span> <span class="st">"saddlebrown"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-seamounts-1.png" width="600"></p>
</div>
<div class="section level2">
<h2 id="habitat-suitability-models">Habitat suitability models<a class="anchor" aria-label="anchor" href="#habitat-suitability-models"></a>
</h2>
<p>Retrieve habitat suitability data for 3 deep water coral groups:</p>
<ul>
<li>Antipatharia: Habitats associated with increased biodiversity in both invertebrate and vertebrate species; global distributions were modeled by <a href="https://doi.org/10.1016/j.dsr2.2015.12.004" class="external-link">Yesson et al. (2017)</a>
</li>
<li>Cold water coral: Important habitats and nursery areas for many species; global distributions were modeled by <a href="https://doi.org/10.1371/journal.pone.0018483" class="external-link">Davies and Guinotte (2011)</a>
</li>
<li>Octocoral: Important habitats for invertebrates, groundfish, rockfish and other species; global distributions were modeled by <a href="https://doi.org/10.1111/j.1365-2699.2011.02681.x" class="external-link">Yesson et al. (2012)</a>
</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coral_habitat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_coral_habitat.html">get_coral_habitat</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#show the seamounts areas on the plot: coral habitat is often on seamounts which are shallower than surrounding ocean floor</span></span>
<span><span class="va">plot_add</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"grey40"</span><span class="op">)</span></span>
<span>  <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/as.polygons.html" class="external-link">as.polygons</a></span><span class="op">(</span><span class="va">seamounts</span>, dissolve <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"orangered4"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">coral_habitat</span>, col <span class="op">=</span> <span class="st">"coral"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, fun <span class="op">=</span> <span class="va">plot_add</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-coral%20habitat-1.png" width="600"></p>
</div>
<div class="section level2">
<h2 id="environmental-regions">Environmental Regions<a class="anchor" aria-label="anchor" href="#environmental-regions"></a>
</h2>
<p>Bioregions are often included in spatial planning, but available bioregional classifications are either too coarse or too detailed to be useful for planning at the EEZ level. Borrowing methods from <a href="https://doi.org/10.1111/ddi.13183" class="external-link">Magris et al. 2020</a></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#cluster the data</span></span>
<span><span class="co">#set number of clusters to 3 to reduce runtime and memory usage</span></span>
<span><span class="va">enviro_regions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_enviro_regions.html">get_enviro_regions</a></span><span class="op">(</span>spatial_grid <span class="op">=</span> <span class="va">planning_grid</span>, num_clusters <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-environmental%20regions-1.png" width="600"><img src="reference/figures/README-environmental%20regions-2.png" width="600"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#plot</span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">enviro_regions</span>, col <span class="op">=</span> <span class="st">"forestgreen"</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, legend <span class="op">=</span><span class="cn">FALSE</span>, fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">bermuda_eez_projected</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="600"></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing oceandatr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jason Flower <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6731-8182" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jason Flower.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
